{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","images/spinner.gif","components/EditProfilePopup.js","components/EditAvatarProfile.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","images/good-sign.svg","images/bad-sign.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/auth.js","utils/constants.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","children","CurrentUserContext","React","createContext","Card","card","onCardClick","onLikeClick","onDeleteClick","currentUser","useContext","isMine","owner","_id","id","isLiked","likes","some","user","onClick","link","name","type","area-label","length","Main","cards","onEditProfile","onEditAvatar","onAddPlace","onCardLike","onCardDelete","avatar","about","map","Footer","PopupWithForm","title","isOpen","onSubmit","onClose","buttonText","ImagePopup","api","config","this","_baseUrl","baseUrl","_headers","headers","_cardsUrl","_userUrl","response","ok","json","Promise","reject","Error","status","fetch","then","_handleResponse","info","method","body","JSON","stringify","avaUrl","cardId","cardData","authorization","EditProfilePopup","onUpdateUser","useState","setName","setAbout","useEffect","e","preventDefault","value","minLength","maxLength","required","onChange","target","EditAvatarProfile","onUpdateAvatar","avatarRef","useRef","current","ref","placeholder","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","Login","onLogin","email","setEmail","password","setPassword","Register","onRegister","to","InfoTooltip","message","goodSign","badSign","ProtectedRoute","path","loggedIn","auth","_registerUrl","_loginUrl","res","loginData","jwt","Authorization","badInfoTooltipMessage","document","querySelector","App","history","useHistory","setLoggedIn","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","isInfoTooltipOk","setInfoTooltipOk","infoTooltipMessage","setInfoTooltipMessage","spinnerPath","setCurrentUser","setCards","selectedCard","setSelectedCard","closeAllPopups","localStorage","getItem","loadLoginedUser","data","push","catch","err","console","log","all","getUserInfo","getInitialCards","userData","cardsData","Provider","exact","registerUser","finally","loginUser","setItem","token","removeItem","handleLike","newCard","newCards","c","deleteCard","filter","newInfo","patchUserInfo","newAvatar","patchUserAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3b238a9b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.2e17206c.svg\";","import logo from \".././images/logo.svg\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Логотип Mesto.Russia\" className=\"header__logo\" />\r\n      <nav className=\"header__nav\">{props.children}</nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n\tconst { card, onCardClick, onLikeClick, onDeleteClick } = props;\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\tfunction handleClick() {\r\n\t\tonCardClick(card);\r\n\t}\r\n\r\n\tfunction handleLikeClick() {\r\n\t\tonLikeClick(card);\r\n\t}\r\n\r\n\tfunction handleDeleteClick() {\r\n\t\tonDeleteClick(card);\r\n\t}\r\n\r\n\tconst isMine = card.owner._id === currentUser.id;\r\n\tconst isLiked = card.likes.some((user) => user._id === currentUser.id);\r\n\r\n\treturn (\r\n\t\t<li className=\"place\">\r\n\t\t\t<div className=\"place__photo-container\" onClick={handleClick}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={card.link}\r\n\t\t\t\t\talt={`Фото, ${card.name}`}\r\n\t\t\t\t\tclassName=\"place__photo\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tarea-label=\"Delete\"\r\n\t\t\t\tclassName={`place__icon-delete ${\r\n\t\t\t\t\tisMine && \"place__icon-delete_active\"\r\n\t\t\t\t}`}\r\n\t\t\t\tonClick={handleDeleteClick}\r\n\t\t\t></button>\r\n\t\t\t<div className=\"place__description\">\r\n\t\t\t\t<h2 className=\"place__title\">{card.name}</h2>\r\n\t\t\t\t<div className=\"place__like-area\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tarea-label=\"Like\"\r\n\t\t\t\t\t\tclassName={`place__icon-like ${\r\n\t\t\t\t\t\t\tisLiked && \"place__icon-like_active\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={handleLikeClick}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"place__like-count\">{card.likes.length}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n\tconst {\r\n\t\tcards,\r\n\t\tonEditProfile,\r\n\t\tonEditAvatar,\r\n\t\tonAddPlace,\r\n\t\tonCardClick,\r\n\t\tonCardLike,\r\n\t\tonCardDelete,\r\n\t} = props;\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\treturn (\r\n\t\t<main>\r\n\t\t\t<section className=\"profile\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={currentUser.avatar}\r\n\t\t\t\t\talt=\"Аватар профиля\"\r\n\t\t\t\t\tclassName=\"profile__avatar\"\r\n\t\t\t\t/>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tarea-label=\"Edit\"\r\n\t\t\t\t\tclassName=\"profile__edit-avatar-button\"\r\n\t\t\t\t\tonClick={onEditAvatar}\r\n\t\t\t\t></button>\r\n\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tarea-label=\"Edit\"\r\n\t\t\t\t\t\tclassName=\"profile__edit-button\"\r\n\t\t\t\t\t\tonClick={onEditProfile}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"profile__job\">{currentUser.about}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"profile__add-button\"\r\n\t\t\t\t\tonClick={onAddPlace}\r\n\t\t\t\t></button>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section className=\"places\">\r\n\t\t\t\t<ul className=\"places__grid\">\r\n\t\t\t\t\t{cards.map((card) => (\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tcard={card}\r\n\t\t\t\t\t\t\tonCardClick={onCardClick}\r\n\t\t\t\t\t\t\tonLikeClick={onCardLike}\r\n\t\t\t\t\t\t\tonDeleteClick={onCardDelete}\r\n\t\t\t\t\t\t\tkey={card._id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm(props) {\r\n\tconst {name, title, isOpen, onSubmit, onClose, buttonText, children} = props;\r\n\treturn (\r\n\t\t<section className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\r\n\t\t\t<div className={`popup__container popup__container_type_${name}`}>\r\n\t\t\t\t<h2 className=\"popup__title\">{title}</h2>\r\n\t\t\t\t<form name={name} className=\"popup__form\" onSubmit={onSubmit}>\r\n          {children}\r\n\t\t\t\t\t<button type=\"submit\" className=\"popup__submit-button\">\r\n\t\t\t\t\t\t{buttonText}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tarea-label=\"Close\"\r\n\t\t\t\t\tclassName=\"popup__close-button\"\r\n\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t></button>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default PopupWithForm;\r\n","function ImagePopup(props) {\r\n\tconst {card, onClose} = props;\r\n\treturn (\r\n\t\t<section\r\n\t\t\tclassName={`popup popup_type_show-card ${card.link && \"popup_opened\"}`}\r\n\t\t>\r\n\t\t\t<figure className=\"popup__figure\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={card.link}\r\n\t\t\t\t\talt={`Фото, ${card.name}`}\r\n\t\t\t\t\tclassName=\"popup__photo\"\r\n\t\t\t\t/>\r\n\t\t\t\t<figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tarea-label=\"Close\"\r\n\t\t\t\t\tclassName=\"popup__close-button\"\r\n\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t></button>\r\n\t\t\t</figure>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(config) {\r\n    this._baseUrl = config.baseUrl;\r\n    this._headers = config.headers;\r\n    this._cardsUrl = `${this._baseUrl}/cards`;\r\n    this._userUrl = `${this._baseUrl}/users/me`;\r\n  }\r\n\r\n  _handleResponse(response) {\r\n    if (response.ok) {\r\n      return response.json();\r\n    } else {\r\n      return Promise.reject(new Error(`Ошибка ${response.status}`));\r\n    }\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._cardsUrl, {\r\n      headers: this._headers,\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._userUrl, {\r\n      headers: this._headers,\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  patchUserInfo(info) {\r\n    return fetch(this._userUrl, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ name: info.name, about: info.about }),\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  patchUserAvatar(link) {\r\n    const avaUrl = `${this._userUrl}/avatar`;\r\n    return fetch(avaUrl, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ avatar: link }),\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  handleLike(cardId, isLiked) {\r\n    const method = isLiked ? \"DELETE\" : \"PUT\";\r\n    return fetch(`${this._cardsUrl}/likes/${cardId}`, {\r\n      method: method,\r\n      headers: this._headers,\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  addCard(cardData) {\r\n    return fetch(this._cardsUrl, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(cardData),\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._cardsUrl}/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-18\",\r\n  headers: {\r\n    authorization: \"315ad660-d92f-49d2-a7f7-3bcfa435f3a6\",\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;","export default __webpack_public_path__ + \"static/media/spinner.c1b8565f.gif\";","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n\tconst { isOpen, onClose, onUpdateUser } = props;\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\tconst [name, setName] = React.useState(currentUser.name);\r\n\tconst [about, setAbout] = React.useState(currentUser.about);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetName(currentUser.name);\r\n\t\tsetAbout(currentUser.about);\r\n\t}, [currentUser]);\r\n\r\n\tfunction handleChangeName(e) {\r\n\t\tsetName(e.target.value);\r\n\t}\r\n\r\n\tfunction handleChangeAbout(e) {\r\n\t\tsetAbout(e.target.value);\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tonUpdateUser({ name: name, about: about });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PopupWithForm\r\n\t\t\t\tname=\"edit-profile\"\r\n\t\t\t\ttitle=\"Редактировать профиль\"\r\n\t\t\t\tbuttonText=\"Сохранить\"\r\n\t\t\t\tisOpen={isOpen}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_name\"\r\n\t\t\t\t\tminLength={2}\r\n\t\t\t\t\tmaxLength={40}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonChange={handleChangeName}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"name-error\"></span>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"job\"\r\n\t\t\t\t\tvalue={about}\r\n\t\t\t\t\tid=\"job\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_job\"\r\n\t\t\t\t\tminLength={2}\r\n\t\t\t\t\tmaxLength={200}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonChange={handleChangeAbout}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"job-error\"></span>\r\n\t\t\t</PopupWithForm>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarProfile(props) {\r\n\tconst { isOpen, onClose, onUpdateAvatar } = props;\r\n\tconst avatarRef = React.useRef();\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tonUpdateAvatar({ avatar: avatarRef.current.value });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PopupWithForm\r\n\t\t\t\tname=\"edit-avatar\"\r\n\t\t\t\ttitle=\"Обновить аватар\"\r\n\t\t\t\tbuttonText=\"Сохранить\"\r\n\t\t\t\tisOpen={isOpen}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={avatarRef}\r\n\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\tname=\"link\"\r\n\t\t\t\t\tid=\"link\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_link-avatar\"\r\n\t\t\t\t\tplaceholder=\"Ссылка на картинку\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"link-error\"></span>\r\n\t\t\t</PopupWithForm>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default EditAvatarProfile;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\tconst { isOpen, onClose, onAddPlace } = props;\r\n\tconst [cardName, setCardName] = React.useState(\"\");\r\n\tconst [cardLink, setCardLink] = React.useState(\"\");\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetCardName(\"\");\r\n\t\tsetCardLink(\"\");\r\n\t}, [isOpen]);\r\n\r\n\tfunction handleChangeCardName(e) {\r\n\t\tsetCardName(e.target.value);\r\n\t}\r\n\r\n\tfunction handleChangeCardLink(e) {\r\n\t\tsetCardLink(e.target.value);\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tonAddPlace({ name: cardName, link: cardLink });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PopupWithForm\r\n\t\t\t\tname=\"add-card\"\r\n\t\t\t\ttitle=\"Новое место\"\r\n\t\t\t\tbuttonText=\"Создать\"\r\n\t\t\t\tisOpen={isOpen}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\tvalue={cardName}\r\n\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_title\"\r\n\t\t\t\t\tplaceholder=\"Название\"\r\n\t\t\t\t\tminLength={2}\r\n\t\t\t\t\tmaxLength={30}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonChange={handleChangeCardName}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"title-error\"></span>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\tname=\"link\"\r\n\t\t\t\t\tvalue={cardLink}\r\n\t\t\t\t\tid=\"link\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_link\"\r\n\t\t\t\t\tplaceholder=\"Ссылка на картинку\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonChange={handleChangeCardLink}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"link-error\"></span>\r\n\t\t\t</PopupWithForm>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nfunction Login(props) {\r\n  const { onLogin } = props\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onLogin({ email: email, password: password});\r\n  }\r\n\r\n  const [email, setEmail] = React.useState(\"\");\r\n\tconst [password, setPassword] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  }, [])\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Вход</h2>\r\n      <form name=\"login\" className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          id=\"email\"\r\n          value={email}\r\n          className=\"auth__input\"\r\n          placeholder=\"Email\"\r\n          required\r\n          onChange={handleEmailChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          value={password}\r\n          className=\"auth__input\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          onChange={handlePasswordChange}\r\n        />\r\n        <button type=\"submit\" className=\"auth__submit-button\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n  const { onRegister } = props\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onRegister({ email: email, password: password});\r\n  }\r\n\r\n  const [email, setEmail] = React.useState(\"\");\r\n\tconst [password, setPassword] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  }, [])\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Регистрация</h2>\r\n      <form name=\"register\" className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          id=\"email\"\r\n          value={email}\r\n          className=\"auth__input\"\r\n          placeholder=\"Email\"\r\n          required\r\n          onChange={handleEmailChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          value={password}\r\n          className=\"auth__input\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          onChange={handlePasswordChange}\r\n        />\r\n        <button type=\"submit\" className=\"auth__submit-button\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link to=\"/sign-in\" className=\"auth__redirect\">\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","export default __webpack_public_path__ + \"static/media/good-sign.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/bad-sign.df8eddf6.svg\";","import goodSign from \".././images/good-sign.svg\";\r\nimport badSign from \".././images/bad-sign.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n  const { ok, isOpen, onClose, message } = props;\r\n  return (\r\n    <section className={`popup ${isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <img\r\n          src={ok ? goodSign : badSign}\r\n          alt={ok ? \"ok\" : \"not ok\"}\r\n          className=\"popup__sign\"\r\n        />\r\n        <p className=\"popup__message\">\r\n          {ok\r\n            ? \"Вы успешно зарегистрировались!\"\r\n            : message}\r\n        </p>\r\n        <button\r\n          type=\"button\"\r\n          area-label=\"Close\"\r\n          className=\"popup__close-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = (props) => {\r\n  return (\r\n    <Route path={props.path}>\r\n      {props.loggedIn ? props.children : <Redirect to=\"./sign-in\" />} \r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","class Auth {\r\n  constructor(config) {\r\n    this._baseUrl = config.baseUrl;\r\n    this._registerUrl = `${this._baseUrl}/signup`;\r\n    this._loginUrl = `${this._baseUrl}/signin`;\r\n    this._userUrl = `${this._baseUrl}/users/me`;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(new Error(`Ошибка ${res.status}`));\r\n    }\r\n  }\r\n\r\n  registerUser(loginData) {\r\n    return fetch(this._registerUrl, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(loginData),\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  loginUser(loginData) {\r\n    return fetch(this._loginUrl, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(loginData),\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  loadLoginedUser(jwt) {\r\n    return fetch(this._userUrl, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwt}`,\r\n      },\r\n    }).then((res) => this._handleResponse(res))\r\n  }\r\n}\r\n\r\nconst auth = new Auth({ baseUrl: \"https://auth.nomoreparties.co\" });\r\n\r\nexport default auth;\r\n","const selectors = {\r\n  inputSelector: \".popup__input\",\r\n  submitButtonSelector: \".popup__submit-button\",\r\n  inactiveButtonClass: \"popup__submit-button_disabled\",\r\n  inputErrorClass: \"popup__input_type_error\",\r\n  errorSelector: \".popup__error\",\r\n};\r\n\r\nconst templateSelector = \"#place\";\r\nconst buttonAdd = document.querySelector(\".profile__add-button\");\r\nconst buttonEditProfile = document.querySelector(\".profile__edit-button\");\r\nconst buttonEditAvatar = document.querySelector(\".profile__edit-avatar-button\");\r\nconst badInfoTooltipMessage = \"Что-то пошло не так! Попробуйте ещё раз.\"\r\n\r\nexport { selectors, templateSelector, buttonAdd, buttonEditProfile, buttonEditAvatar, badInfoTooltipMessage};","import React from \"react\";\r\nimport { Route, Link, useHistory, Switch } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport spinnerPath from \"../images/spinner.gif\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarProfile from \"./EditAvatarProfile\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport auth from \"../utils/auth\";\r\nimport { badInfoTooltipMessage } from \"../utils/constants\";\r\n\r\nfunction App() {\r\n  // Set states\r\n  const history = useHistory();\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n  const [isInfoTooltipOk, setInfoTooltipOk] = React.useState(true);\r\n  const [infoTooltipMessage, setInfoTooltipMessage] = React.useState(\r\n    badInfoTooltipMessage\r\n  );\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    id: \"\",\r\n    name: \"...\",\r\n    about: \"...\",\r\n    avatar: spinnerPath,\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [selectedCard, setSelectedCard] = React.useState({\r\n    name: \"\",\r\n    link: \"\",\r\n  });\r\n\r\n  // Check, if user is logged in\r\n  React.useEffect(() => {\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      const jwt = localStorage.getItem(\"jwt\");\r\n      auth\r\n        .loadLoginedUser(jwt)\r\n        .then((data) => {\r\n          if (data.data) {\r\n            setEmail(data.data.email);\r\n            setLoggedIn(true);\r\n            history.push(\"/\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [history]);\r\n\r\n  // Get user data\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([userData, cardsData]) => {\r\n        setCurrentUser({\r\n          id: userData._id,\r\n          name: userData.name,\r\n          about: userData.about,\r\n          avatar: userData.avatar,\r\n        });\r\n        setCards(cardsData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  // Popups handlers\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setInfoTooltipOpen(false);\r\n    setSelectedCard({ name: \"\", link: \"\" });\r\n  }\r\n\r\n  // Card handlers\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((user) => user._id === currentUser.id);\r\n    api\r\n      .handleLike(card._id, isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  // Add card handler\r\n  function handleAddPlaceSubmit(cardData) {\r\n    api\r\n      .addCard(cardData)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  // Update user's data handlers\r\n  function handleUpdateUser(newInfo) {\r\n    api\r\n      .patchUserInfo(newInfo)\r\n      .then(() => {\r\n        setCurrentUser({\r\n          ...currentUser,\r\n          name: newInfo.name,\r\n          about: newInfo.about,\r\n        });\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatar) {\r\n    api\r\n      .patchUserAvatar(newAvatar.avatar)\r\n      .then(() => {\r\n        setCurrentUser({\r\n          ...currentUser,\r\n          avatar: newAvatar.avatar,\r\n        });\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  // Autorization handlers\r\n  function handleRegister(loginData) {\r\n    auth\r\n      .registerUser(loginData)\r\n      .then((data) => {\r\n        setInfoTooltipOk(true);\r\n        history.push(\"/sign-in\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setInfoTooltipMessage(badInfoTooltipMessage);\r\n        setInfoTooltipOk(false);\r\n      })\r\n      .finally(() => setInfoTooltipOpen(true));\r\n  }\r\n\r\n  function handleLogin(loginData) {\r\n    auth\r\n      .loginUser(loginData)\r\n      .then((data) => {\r\n        setLoggedIn(true);\r\n        localStorage.setItem(\"jwt\", data.token);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setInfoTooltipMessage(badInfoTooltipMessage);\r\n        setInfoTooltipOk(false);\r\n        setInfoTooltipOpen(true);\r\n      });\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem(\"jwt\");\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Switch>\r\n          <Route exact path=\"/sign-up\">\r\n            <Header>\r\n              <Link to=\"/sign-in\" className=\"header__link\">\r\n                Войти\r\n              </Link>\r\n            </Header>\r\n            <Register onRegister={handleRegister} />\r\n          </Route>\r\n\r\n          <Route exact path=\"/sign-in\">\r\n            <Header>\r\n              <Link to=\"/sign-up\" className=\"header__link\">\r\n                Регистрация\r\n              </Link>\r\n            </Header>\r\n            <Login onLogin={handleLogin} />\r\n          </Route>\r\n          <ProtectedRoute exact path=\"/\" loggedIn={loggedIn}>\r\n            <Header>\r\n              <p className=\"header__login-info\">{email}</p>\r\n              <Link\r\n                to=\"/sign-in\"\r\n                className=\"header__link header__link_shy\"\r\n                onClick={handleLogout}\r\n              >\r\n                Выйти\r\n              </Link>\r\n            </Header>\r\n            <Main\r\n              cards={cards}\r\n              onEditProfile={handleEditProfileClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            />\r\n            <Footer />\r\n          </ProtectedRoute>\r\n        </Switch>\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarProfile\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <PopupWithForm\r\n          name=\"delete-card\"\r\n          title=\"Вы уверены?\"\r\n          buttonText=\"Да\"\r\n          onClose={closeAllPopups}\r\n        />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}></ImagePopup>\r\n        <InfoTooltip\r\n          ok={isInfoTooltipOk}\r\n          isOpen={isInfoTooltipOpen}\r\n          onClose={closeAllPopups}\r\n          message={infoTooltipMessage}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n// TODO: add mobile version\r\n// TODO: add loading messages to popups\r\n// TODO: add validation\r\n// TODO: add closing popups by click on backroud and by Esc\r\n// TODO: show auth errors' text on InfoTooltip\r\n// TODO: document the code (https://www.inkoop.io/blog/a-guide-to-js-docs-for-react-js/)\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}