{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","images/spinner.gif","components/EditProfilePopup.js","components/EditAvatarProfile.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","images/good-sign.svg","images/bad-sign.svg","components/InfoTooltip.js","components/ProtectedRoute.js","utils/constants.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","children","CurrentUserContext","React","createContext","Card","card","onCardClick","onLikeClick","onDeleteClick","currentUser","useContext","isMine","owner","id","isLiked","likes","some","user","onClick","link","name","type","area-label","length","Main","cards","onEditProfile","onEditAvatar","onAddPlace","onCardLike","onCardDelete","avatar","about","map","_id","Footer","PopupWithForm","title","isOpen","onSubmit","onClose","buttonText","ImagePopup","api","config","this","_baseUrl","baseUrl","_headers","headers","_cardsUrl","_userUrl","_registerUrl","_loginUrl","_logoutUrl","response","ok","json","then","data","Promise","reject","Error","message","loginData","fetch","method","body","JSON","stringify","credentials","res","_handleResponse","info","avaUrl","cardId","cardData","EditProfilePopup","onUpdateUser","useState","setName","setAbout","useEffect","e","preventDefault","value","minLength","maxLength","required","onChange","target","EditAvatarProfile","onUpdateAvatar","avatarRef","useRef","current","ref","placeholder","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","Login","onLogin","email","setEmail","password","setPassword","Register","onRegister","to","InfoTooltip","goodSign","badSign","ProtectedRoute","path","loggedIn","document","querySelector","App","history","useHistory","setLoggedIn","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","isInfoTooltipOk","setInfoTooltipOk","infoTooltipMessage","setInfoTooltipMessage","spinnerPath","setCurrentUser","setCards","selectedCard","setSelectedCard","closeAllPopups","localStorage","getItem","loadLoginedUser","push","catch","err","console","log","all","getUserInfo","getInitialCards","userData","cardsData","Provider","exact","registerUser","finally","loginUser","setItem","token","removeItem","logoutUser","handleLike","newCard","newCards","c","deleteCard","filter","newInfo","patchUserInfo","newAvatar","patchUserAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.17edcbcb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.2e17206c.svg\";","import logo from \".././images/logo.svg\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"Логотип Mesto.Russia\" className=\"header__logo\" />\r\n      <nav className=\"header__nav\">{props.children}</nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n\tconst { card, onCardClick, onLikeClick, onDeleteClick } = props;\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\tfunction handleClick() {\r\n\t\tonCardClick(card);\r\n\t}\r\n\r\n\tfunction handleLikeClick() {\r\n\t\tonLikeClick(card);\r\n\t}\r\n\r\n\tfunction handleDeleteClick() {\r\n\t\tonDeleteClick(card);\r\n\t}\r\n\r\n\tconst isMine = card.owner === currentUser.id;\r\n\tconst isLiked = card.likes.some((user) => user === currentUser.id);\r\n\r\n\treturn (\r\n\t\t<li className=\"place\">\r\n\t\t\t<div className=\"place__photo-container\" onClick={handleClick}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={card.link}\r\n\t\t\t\t\talt={`Фото, ${card.name}`}\r\n\t\t\t\t\tclassName=\"place__photo\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tarea-label=\"Delete\"\r\n\t\t\t\tclassName={`place__icon-delete ${\r\n\t\t\t\t\tisMine && \"place__icon-delete_active\"\r\n\t\t\t\t}`}\r\n\t\t\t\tonClick={handleDeleteClick}\r\n\t\t\t></button>\r\n\t\t\t<div className=\"place__description\">\r\n\t\t\t\t<h2 className=\"place__title\">{card.name}</h2>\r\n\t\t\t\t<div className=\"place__like-area\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tarea-label=\"Like\"\r\n\t\t\t\t\t\tclassName={`place__icon-like ${\r\n\t\t\t\t\t\t\tisLiked && \"place__icon-like_active\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={handleLikeClick}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"place__like-count\">{card.likes.length}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n\tconst {\r\n\t\tcards,\r\n\t\tonEditProfile,\r\n\t\tonEditAvatar,\r\n\t\tonAddPlace,\r\n\t\tonCardClick,\r\n\t\tonCardLike,\r\n\t\tonCardDelete,\r\n\t} = props;\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\r\n\treturn (\r\n\t\t<main>\r\n\t\t\t<section className=\"profile\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={currentUser.avatar}\r\n\t\t\t\t\talt=\"Аватар профиля\"\r\n\t\t\t\t\tclassName=\"profile__avatar\"\r\n\t\t\t\t/>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tarea-label=\"Edit\"\r\n\t\t\t\t\tclassName=\"profile__edit-avatar-button\"\r\n\t\t\t\t\tonClick={onEditAvatar}\r\n\t\t\t\t></button>\r\n\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t<h1 className=\"profile__name\">{currentUser.name}</h1>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tarea-label=\"Edit\"\r\n\t\t\t\t\t\tclassName=\"profile__edit-button\"\r\n\t\t\t\t\t\tonClick={onEditProfile}\r\n\t\t\t\t\t></button>\r\n\t\t\t\t\t<p className=\"profile__job\">{currentUser.about}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"profile__add-button\"\r\n\t\t\t\t\tonClick={onAddPlace}\r\n\t\t\t\t></button>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section className=\"places\">\r\n\t\t\t\t<ul className=\"places__grid\">\r\n\t\t\t\t\t{cards.map((card) => (\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tcard={card}\r\n\t\t\t\t\t\t\tonCardClick={onCardClick}\r\n\t\t\t\t\t\t\tonLikeClick={onCardLike}\r\n\t\t\t\t\t\t\tonDeleteClick={onCardDelete}\r\n\t\t\t\t\t\t\tkey={card._id}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm(props) {\r\n\tconst {name, title, isOpen, onSubmit, onClose, buttonText, children} = props;\r\n\treturn (\r\n\t\t<section className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`}>\r\n\t\t\t<div className={`popup__container popup__container_type_${name}`}>\r\n\t\t\t\t<h2 className=\"popup__title\">{title}</h2>\r\n\t\t\t\t<form name={name} className=\"popup__form\" onSubmit={onSubmit}>\r\n          {children}\r\n\t\t\t\t\t<button type=\"submit\" className=\"popup__submit-button\">\r\n\t\t\t\t\t\t{buttonText}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tarea-label=\"Close\"\r\n\t\t\t\t\tclassName=\"popup__close-button\"\r\n\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t></button>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default PopupWithForm;\r\n","function ImagePopup(props) {\r\n\tconst {card, onClose} = props;\r\n\treturn (\r\n\t\t<section\r\n\t\t\tclassName={`popup popup_type_show-card ${card.link && \"popup_opened\"}`}\r\n\t\t>\r\n\t\t\t<figure className=\"popup__figure\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={card.link}\r\n\t\t\t\t\talt={`Фото, ${card.name}`}\r\n\t\t\t\t\tclassName=\"popup__photo\"\r\n\t\t\t\t/>\r\n\t\t\t\t<figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tarea-label=\"Close\"\r\n\t\t\t\t\tclassName=\"popup__close-button\"\r\n\t\t\t\t\tonClick={onClose}\r\n\t\t\t\t></button>\r\n\t\t\t</figure>\r\n\t\t</section>\r\n\t);\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(config) {\r\n    this._baseUrl = config.baseUrl;\r\n    this._headers = config.headers;\r\n    this._cardsUrl = `${this._baseUrl}/cards`;\r\n    this._userUrl = `${this._baseUrl}/users/me`;\r\n    this._registerUrl = `${this._baseUrl}/signup`;\r\n    this._loginUrl = `${this._baseUrl}/signin`;\r\n    this._logoutUrl = `${this._baseUrl}/logout`;\r\n  }\r\n\r\n  _handleResponse(response) {\r\n    if (response.ok) {\r\n      return response.json();\r\n    } else {\r\n      return response.json().then((data) => Promise.reject(new Error(data.message)))\r\n    }\r\n  }\r\n\r\n  registerUser(loginData) {\r\n    return fetch(this._registerUrl, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(loginData),\r\n      credentials: 'include',\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  loginUser(loginData) {\r\n    return fetch(this._loginUrl, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(loginData),\r\n      credentials: 'include',\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  logoutUser() {\r\n    return fetch(this._logoutUrl, {\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    }).then((res) => this._handleResponse(res));\r\n  }\r\n\r\n  loadLoginedUser() {\r\n    return fetch(this._userUrl, {\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    }).then((res) => this._handleResponse(res))\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._cardsUrl, {\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._userUrl, {\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  patchUserInfo(info) {\r\n    return fetch(this._userUrl, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ name: info.name, about: info.about }),\r\n      credentials: 'include',\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  patchUserAvatar(link) {\r\n    const avaUrl = `${this._userUrl}/avatar`;\r\n    return fetch(avaUrl, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({ avatar: link }),\r\n      credentials: 'include',\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  handleLike(cardId, isLiked) {\r\n    const method = isLiked ? \"DELETE\" : \"PUT\";\r\n    return fetch(`${this._cardsUrl}/${cardId}/likes`, {\r\n      method: method,\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  addCard(cardData) {\r\n    return fetch(this._cardsUrl, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(cardData),\r\n      credentials: 'include',\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._cardsUrl}/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n      credentials: 'include',\r\n    }).then((response) => this._handleResponse(response));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://api.mesto.mahakomar.nomoredomains.club\",\r\n  headers: {\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;","export default __webpack_public_path__ + \"static/media/spinner.c1b8565f.gif\";","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n\tconst { isOpen, onClose, onUpdateUser } = props;\r\n\tconst currentUser = React.useContext(CurrentUserContext);\r\n\tconst [name, setName] = React.useState(currentUser.name);\r\n\tconst [about, setAbout] = React.useState(currentUser.about);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetName(currentUser.name);\r\n\t\tsetAbout(currentUser.about);\r\n\t}, [currentUser]);\r\n\r\n\tfunction handleChangeName(e) {\r\n\t\tsetName(e.target.value);\r\n\t}\r\n\r\n\tfunction handleChangeAbout(e) {\r\n\t\tsetAbout(e.target.value);\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tonUpdateUser({ name: name, about: about });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PopupWithForm\r\n\t\t\t\tname=\"edit-profile\"\r\n\t\t\t\ttitle=\"Редактировать профиль\"\r\n\t\t\t\tbuttonText=\"Сохранить\"\r\n\t\t\t\tisOpen={isOpen}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_name\"\r\n\t\t\t\t\tminLength={2}\r\n\t\t\t\t\tmaxLength={40}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonChange={handleChangeName}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"name-error\"></span>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"job\"\r\n\t\t\t\t\tvalue={about}\r\n\t\t\t\t\tid=\"job\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_job\"\r\n\t\t\t\t\tminLength={2}\r\n\t\t\t\t\tmaxLength={200}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonChange={handleChangeAbout}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"job-error\"></span>\r\n\t\t\t</PopupWithForm>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarProfile(props) {\r\n\tconst { isOpen, onClose, onUpdateAvatar } = props;\r\n\tconst avatarRef = React.useRef();\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tonUpdateAvatar({ avatar: avatarRef.current.value });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PopupWithForm\r\n\t\t\t\tname=\"edit-avatar\"\r\n\t\t\t\ttitle=\"Обновить аватар\"\r\n\t\t\t\tbuttonText=\"Сохранить\"\r\n\t\t\t\tisOpen={isOpen}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t<input\r\n\t\t\t\t\tref={avatarRef}\r\n\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\tname=\"link\"\r\n\t\t\t\t\tid=\"link\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_link-avatar\"\r\n\t\t\t\t\tplaceholder=\"Ссылка на картинку\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"link-error\"></span>\r\n\t\t\t</PopupWithForm>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default EditAvatarProfile;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\tconst { isOpen, onClose, onAddPlace } = props;\r\n\tconst [cardName, setCardName] = React.useState(\"\");\r\n\tconst [cardLink, setCardLink] = React.useState(\"\");\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetCardName(\"\");\r\n\t\tsetCardLink(\"\");\r\n\t}, [isOpen]);\r\n\r\n\tfunction handleChangeCardName(e) {\r\n\t\tsetCardName(e.target.value);\r\n\t}\r\n\r\n\tfunction handleChangeCardLink(e) {\r\n\t\tsetCardLink(e.target.value);\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tonAddPlace({ name: cardName, link: cardLink });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<PopupWithForm\r\n\t\t\t\tname=\"add-card\"\r\n\t\t\t\ttitle=\"Новое место\"\r\n\t\t\t\tbuttonText=\"Создать\"\r\n\t\t\t\tisOpen={isOpen}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\tvalue={cardName}\r\n\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_title\"\r\n\t\t\t\t\tplaceholder=\"Название\"\r\n\t\t\t\t\tminLength={2}\r\n\t\t\t\t\tmaxLength={30}\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonChange={handleChangeCardName}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"title-error\"></span>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\tname=\"link\"\r\n\t\t\t\t\tvalue={cardLink}\r\n\t\t\t\t\tid=\"link\"\r\n\t\t\t\t\tclassName=\"popup__input popup__input_content_link\"\r\n\t\t\t\t\tplaceholder=\"Ссылка на картинку\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tonChange={handleChangeCardLink}\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"popup__error\" id=\"link-error\"></span>\r\n\t\t\t</PopupWithForm>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\n\r\nfunction Login(props) {\r\n  const { onLogin } = props\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onLogin({ email: email, password: password});\r\n  }\r\n\r\n  const [email, setEmail] = React.useState(\"\");\r\n\tconst [password, setPassword] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  }, [])\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Вход</h2>\r\n      <form name=\"login\" className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          id=\"email\"\r\n          value={email}\r\n          className=\"auth__input\"\r\n          placeholder=\"Email\"\r\n          required\r\n          onChange={handleEmailChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          value={password}\r\n          className=\"auth__input\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          onChange={handlePasswordChange}\r\n        />\r\n        <button type=\"submit\" className=\"auth__submit-button\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n  const { onRegister } = props\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onRegister({ email: email, password: password});\r\n  }\r\n\r\n  const [email, setEmail] = React.useState(\"\");\r\n\tconst [password, setPassword] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  }, [])\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <section className=\"auth\">\r\n      <h2 className=\"auth__title\">Регистрация</h2>\r\n      <form name=\"register\" className=\"auth__form\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          id=\"email\"\r\n          value={email}\r\n          className=\"auth__input\"\r\n          placeholder=\"Email\"\r\n          required\r\n          onChange={handleEmailChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          value={password}\r\n          className=\"auth__input\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          onChange={handlePasswordChange}\r\n        />\r\n        <button type=\"submit\" className=\"auth__submit-button\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link to=\"/sign-in\" className=\"auth__redirect\">\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","export default __webpack_public_path__ + \"static/media/good-sign.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/bad-sign.df8eddf6.svg\";","import goodSign from \".././images/good-sign.svg\";\r\nimport badSign from \".././images/bad-sign.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n  const { ok, isOpen, onClose, message } = props;\r\n  return (\r\n    <section className={`popup ${isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <img\r\n          src={ok ? goodSign : badSign}\r\n          alt={ok ? \"ok\" : \"not ok\"}\r\n          className=\"popup__sign\"\r\n        />\r\n        <p className=\"popup__message\">\r\n          {ok\r\n            ? \"Вы успешно зарегистрировались!\"\r\n            : message}\r\n        </p>\r\n        <button\r\n          type=\"button\"\r\n          area-label=\"Close\"\r\n          className=\"popup__close-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = (props) => {\r\n  return (\r\n    <Route path={props.path}>\r\n      {props.loggedIn ? props.children : <Redirect to=\"./sign-in\" />} \r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","const selectors = {\r\n  inputSelector: \".popup__input\",\r\n  submitButtonSelector: \".popup__submit-button\",\r\n  inactiveButtonClass: \"popup__submit-button_disabled\",\r\n  inputErrorClass: \"popup__input_type_error\",\r\n  errorSelector: \".popup__error\",\r\n};\r\n\r\nconst templateSelector = \"#place\";\r\nconst buttonAdd = document.querySelector(\".profile__add-button\");\r\nconst buttonEditProfile = document.querySelector(\".profile__edit-button\");\r\nconst buttonEditAvatar = document.querySelector(\".profile__edit-avatar-button\");\r\nconst badInfoTooltipMessage = \"Что-то пошло не так! Попробуйте ещё раз.\"\r\n\r\nexport { selectors, templateSelector, buttonAdd, buttonEditProfile, buttonEditAvatar, badInfoTooltipMessage};","import React from 'react';\r\nimport { Route, Link, useHistory, Switch } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport spinnerPath from '../images/spinner.gif';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarProfile from './EditAvatarProfile';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport { badInfoTooltipMessage } from '../utils/constants';\r\n\r\nfunction App() {\r\n  // Set states\r\n  const history = useHistory();\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [email, setEmail] = React.useState('');\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n  const [isInfoTooltipOk, setInfoTooltipOk] = React.useState(true);\r\n  const [infoTooltipMessage, setInfoTooltipMessage] = React.useState(\r\n    badInfoTooltipMessage\r\n  );\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    id: '',\r\n    name: '...',\r\n    about: '...',\r\n    avatar: spinnerPath,\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n  const [selectedCard, setSelectedCard] = React.useState({\r\n    name: '',\r\n    link: '',\r\n  });\r\n\r\n  // Check, if user is logged in\r\n  React.useEffect(() => {\r\n    if (localStorage.getItem('jwt')) {\r\n      api\r\n        .loadLoginedUser()\r\n        .then((data) => {\r\n          if (data) {\r\n            setEmail(data.email);\r\n            setLoggedIn(true);\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch((err) => console.log(err.message));\r\n    }\r\n  }, []);\r\n\r\n  // Get user data\r\n  React.useEffect(() => {\r\n    if (loggedIn)\r\n      Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n        .then(([userData, cardsData]) => {\r\n          setCurrentUser({\r\n            id: userData._id,\r\n            name: userData.name,\r\n            about: userData.about,\r\n            avatar: userData.avatar,\r\n          });\r\n          setCards(cardsData.cards);\r\n          setEmail(userData.email)\r\n        })\r\n        .catch((err) => console.log(err.message));\r\n  }, [loggedIn]);\r\n\r\n  // Popups handlers\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setInfoTooltipOpen(false);\r\n    setSelectedCard({ name: '', link: '' });\r\n  }\r\n\r\n  // Card handlers\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((user) => user === currentUser.id);\r\n    api\r\n      .handleLike(card._id, isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  }\r\n\r\n  // Add card handler\r\n  function handleAddPlaceSubmit(cardData) {\r\n    api\r\n      .addCard(cardData)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  }\r\n\r\n  // Update user's data handlers\r\n  function handleUpdateUser(newInfo) {\r\n    api\r\n      .patchUserInfo(newInfo)\r\n      .then(() => {\r\n        setCurrentUser({\r\n          ...currentUser,\r\n          name: newInfo.name,\r\n          about: newInfo.about,\r\n        });\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatar) {\r\n    api\r\n      .patchUserAvatar(newAvatar.avatar)\r\n      .then(() => {\r\n        setCurrentUser({\r\n          ...currentUser,\r\n          avatar: newAvatar.avatar,\r\n        });\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err.message));\r\n  }\r\n\r\n  // Autorization handlers\r\n  function handleRegister(loginData) {\r\n    api\r\n      .registerUser(loginData)\r\n      .then((data) => {\r\n        setInfoTooltipOk(true);\r\n        history.push('/sign-in');\r\n      })\r\n      .catch((err) => {\r\n        setInfoTooltipMessage(err.message);\r\n        setInfoTooltipOk(false);\r\n      })\r\n      .finally(() => setInfoTooltipOpen(true));\r\n  }\r\n\r\n  function handleLogin(loginData) {\r\n    api\r\n      .loginUser(loginData)\r\n      .then((data) => {\r\n        setLoggedIn(true);\r\n        localStorage.setItem('jwt', data.token);\r\n        history.push('/');\r\n      })\r\n      .catch((err) => {\r\n        setInfoTooltipMessage(err.message);\r\n        setInfoTooltipOk(false);\r\n        setInfoTooltipOpen(true);\r\n      });\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    api.logoutUser().catch((err) => console.log(err.message));\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Switch>\r\n          <Route exact path=\"/sign-up\">\r\n            <Header>\r\n              <Link to=\"/sign-in\" className=\"header__link\">\r\n                Войти\r\n              </Link>\r\n            </Header>\r\n            <Register onRegister={handleRegister} />\r\n          </Route>\r\n\r\n          <Route exact path=\"/sign-in\">\r\n            <Header>\r\n              <Link to=\"/sign-up\" className=\"header__link\">\r\n                Регистрация\r\n              </Link>\r\n            </Header>\r\n            <Login onLogin={handleLogin} />\r\n          </Route>\r\n          <ProtectedRoute exact path=\"/\" loggedIn={loggedIn}>\r\n            <Header>\r\n              <p className=\"header__login-info\">{email}</p>\r\n              <Link\r\n                to=\"/sign-in\"\r\n                className=\"header__link header__link_shy\"\r\n                onClick={handleLogout}\r\n              >\r\n                Выйти\r\n              </Link>\r\n            </Header>\r\n            <Main\r\n              cards={cards}\r\n              onEditProfile={handleEditProfileClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            />\r\n            <Footer />\r\n          </ProtectedRoute>\r\n        </Switch>\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <EditAvatarProfile\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <PopupWithForm\r\n          name=\"delete-card\"\r\n          title=\"Вы уверены?\"\r\n          buttonText=\"Да\"\r\n          onClose={closeAllPopups}\r\n        />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}></ImagePopup>\r\n        <InfoTooltip\r\n          ok={isInfoTooltipOk}\r\n          isOpen={isInfoTooltipOpen}\r\n          onClose={closeAllPopups}\r\n          message={infoTooltipMessage}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n// TODO: add mobile version\r\n// TODO: add loading messages to popups\r\n// TODO: add validation\r\n// TODO: add closing popups by click on backroud and by Esc\r\n// TODO: show auth errors' text on InfoTooltip\r\n// TODO: document the code (https://www.inkoop.io/blog/a-guide-to-js-docs-for-react-js/)\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}